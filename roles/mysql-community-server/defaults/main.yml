##
#   Copyright 2020 TechDivision GmbH
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
##
---

mysql_community_server:
  base_path: "{{ valet_packages_path }}/mysql"
  base_packages:
    - "libaio1"
    - "libncurses5"
    - "libtinfo5"
    - "python3-pymysql"
  default_root_password: "root"
  default_user: mysql
  default_group: mysql
  default_secure_queries:
    - "DELETE FROM mysql.user WHERE User='';"
    - "DELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');"
    - "DROP DATABASE IF EXISTS test;"
    - "DELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';"
    - "FLUSH PRIVILEGES;"
    - "ALTER USER 'root'@'localhost' IDENTIFIED BY '{{ mysql_community_server_default_root_password }}';"

mysql_community_server_default_root_password: "root"

mysql_community_server_57:
  package_url: "https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz"
  package_signature: 5f10808b3bcd4c6844572f57f0a897bc86d3e6f9de67d52167401686fff27746
  port: 3307

mysql_community_server_80:
  package_url: "https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.20-linux-glibc2.12-x86_64.tar.xz"
  package_signature: c21bdd67e4c163ba6d0d5d90344ceb9715aba71a89c6367bd7ae49146b827f91
  port: 3308

